---
import BaseLayout from '@layouts/BaseLayout.astro'
import ArticlePage from '@components/ArticlePage/Index.astro'

export async function getStaticPaths({ paginate }: { paginate: any }) {
  const allPosts = await Astro.glob('/src/content/blog/*.{md,mdx}')
  const sortedPosts = allPosts.sort((a, b) => Number(new Date(b.frontmatter.date)) - Number(new Date(a.frontmatter.date)))
  return paginate(sortedPosts, {
    pageSize: 10
  })
}

const { page } = Astro.props
---

<BaseLayout>
  <ArticlePage page={page} />
</BaseLayout>
