---
import { getCollection } from 'astro:content'
import BlogPost from '@layouts/BlogPost.astro'
export async function getStaticPaths() {
  const posts = await getCollection('blog')
  return posts.map((post) => {
    return {
      params: { slug: post.data.abbrlink },
      props: { post }
    }
  })
}
const { slug } = Astro.params
const { post } = Astro.props
const posts = await getCollection('blog')
const target = await posts.find((i) => i.data.abbrlink.toString() === slug)?.render()
---

<BlogPost post={post} frontmatter={target.remarkPluginFrontmatter} />
